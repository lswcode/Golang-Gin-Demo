(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-426d0a94"],{6662:function(t,e,n){},c612:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my"},[t.$store.state.token?n("div",{staticClass:"isLogin"},[n("div",{staticClass:"header"},[n("span",[t._v("账号 "+t._s(t.user.account))]),n("span",[t._v("用户名 "+t._s(t.user.userName))])]),n("div",{staticClass:"middle"},[n("van-grid",[n("van-grid-item",[n("span",{staticClass:"count"},[t._v("111")]),n("span",{staticClass:"text"},[t._v("消息")])]),n("van-grid-item",[n("span",{staticClass:"count"},[t._v("111")]),n("span",{staticClass:"text"},[t._v("粉丝")])]),n("van-grid-item",[n("span",{staticClass:"count"},[t._v("111")]),n("span",{staticClass:"text"},[t._v("获赞")])]),n("van-grid-item",[n("span",{staticClass:"count"},[t._v("111")]),n("span",{staticClass:"text"},[t._v("关注")])])],1)],1),n("div",[n("van-cell-group",{attrs:{border:!1}},[n("van-cell",{attrs:{title:"我的消息","is-link":""}})],1),n("van-cell-group",[n("van-cell",{attrs:{title:"我的收藏","is-link":""}})],1),n("van-cell-group",[n("van-cell",{attrs:{title:"个人信息","is-link":""}})],1),n("van-cell-group",[n("van-cell",{attrs:{title:"用户设置","is-link":""}})],1),n("van-button",{staticClass:"button",attrs:{plain:"",type:"info"},on:{click:t.onLogout}},[t._v("退出登录")])],1)]):n("div",{staticClass:"notLogin"},[n("van-button",{staticClass:"button",attrs:{plain:"",type:"info"},on:{click:function(e){return t.$router.push({name:"Login"})}}},[t._v("点击登录")])],1)])},a=[],o=n("fd03"),r={name:"My",components:{},props:{},data(){return{user:{}}},computed:{},watch:{},created(){this.$store.state.token&&this.getUserInfo()},methods:{async getUserInfo(){try{const{data:t}=await Object(o["f"])();1==t.code&&(this.user=t.data)}catch(t){this.$toast.fail({forbidClick:!0,message:"获取用户数据失败"})}},onLogout(){this.$dialog.confirm({title:"退出确认",message:"退出当前头条账号，将不能同步收藏，发布评论和云端分享等"}).then(()=>{this.$store.commit("clearToken")}).catch(()=>{})}}},i=r,c=(n("f401"),n("2877")),l=Object(c["a"])(i,s,a,!1,null,"797c28c7",null);e["default"]=l.exports},f401:function(t,e,n){"use strict";n("6662")},fd03:function(t,e,n){"use strict";n.d(e,"g",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"d",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"b",(function(){return h})),n.d(e,"e",(function(){return v})),n.d(e,"a",(function(){return f}));var s=n("cebe"),a=n.n(s),o=n("4360"),r=n("a18c");const i=a.a.create({baseURL:"http://localhost:3000",timeout:8e3}),c=a.a.create({baseURL:"http://localhost:8080",timeout:8e3});c.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",i.interceptors.request.use(t=>{const e=o["a"].state.token;return e&&(t.headers.Authorization="Bearer "+e),t}),i.interceptors.response.use(t=>{const{data:e}=t;return 1!==e.code&&console.warn(e.msg),t},t=>{t.response.status&&401==t.response.status&&(o["a"].commit("clearToken"),r["a"].push({name:"Login"}))});var l=i;const u=t=>l({method:"POST",url:"/user/login",data:t}),d=()=>l({method:"GET",url:"/userAdmin/findUserById"}),p=()=>l({method:"GET",url:"/channel/channelName"}),m=t=>l({method:"GET",url:"/channel/findByName",params:t}),h=t=>l({method:"GET",url:"/channel/findByContent",params:{content:t}}),v=t=>l({method:"GET",url:"/channel/search",params:{inputContent:t}}),f=t=>c({method:"POST",url:"upload",data:t})}}]);
//# sourceMappingURL=chunk-426d0a94.b6810fdd.js.map