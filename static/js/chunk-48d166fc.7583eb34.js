(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48d166fc"],{"00fd":function(t,e,n){var r=n("9e69"),o=Object.prototype,s=o.hasOwnProperty,a=o.toString,c=r?r.toStringTag:void 0;function i(t){var e=s.call(t,c),n=t[c];try{t[c]=void 0;var r=!0}catch(i){}var o=a.call(t);return r&&(e?t[c]=n:delete t[c]),o}t.exports=i},1310:function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},"1a8c":function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},"29f3":function(t,e){var n=Object.prototype,r=n.toString;function o(t){return r.call(t)}t.exports=o},"2b3e":function(t,e,n){var r=n("585a"),o="object"==typeof self&&self&&self.Object===Object&&self,s=r||o||Function("return this")();t.exports=s},"33bf":function(t,e,n){"use strict";n("bf8b")},3729:function(t,e,n){var r=n("9e69"),o=n("00fd"),s=n("29f3"),a="[object Null]",c="[object Undefined]",i=r?r.toStringTag:void 0;function u(t){return null==t?void 0===t?c:a:i&&i in Object(t)?o(t):s(t)}t.exports=u},"408c":function(t,e,n){var r=n("2b3e"),o=function(){return r.Date.now()};t.exports=o},"4cef":function(t,e){var n=/\s/;function r(t){var e=t.length;while(e--&&n.test(t.charAt(e)));return e}t.exports=r},"585a":function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n("c8ba"))},"822d":function(t,e,n){"use strict";n("b10c")},"8d74":function(t,e,n){var r=n("4cef"),o=/^\s+/;function s(t){return t?t.slice(0,r(t)+1).replace(o,""):t}t.exports=s},"9e69":function(t,e,n){var r=n("2b3e"),o=r.Symbol;t.exports=o},a3f6:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search"},[n("form",{staticClass:"searchBox",attrs:{action:"/"}},[n("van-search",{attrs:{background:"#3296fa",placeholder:"请输入搜索关键词",shape:"round","show-action":""},on:{search:t.onSearch,cancel:function(e){return t.$router.back()},focus:function(e){t.isResultShow=!1}},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1),n("div",{staticClass:"blank"}),t.isResultShow?n("Result",{ref:"resultRef",attrs:{searchText:t.searchText,isShow:t.isShow}}):t.searchText?n("Suggestion",{attrs:{searchText:t.searchText},on:{search:t.onSearch}}):n("History",{attrs:{searchHistories:t.searchHistories},on:{search:t.onSearch}})],1)},o=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"result"},[t.isShow?n("div",[t._v("默认内容")]):n("div",[t._v("搜索结果:"+t._s(t.content))])])},a=[],c=n("fd03"),i={name:"Result",components:{},props:{searchText:{type:String,required:!0},isShow:{type:Boolean,required:!0}},data(){return{content:""}},computed:{},watch:{isShow:{immediate:!0,handler(){0==this.isShow&&this.getContent()}}},created(){},methods:{async getContent(){let{data:t}=await Object(c["b"])(this.searchText);this.content=t.data.content}}},u=i,f=n("2877"),l=Object(f["a"])(u,s,a,!1,null,"22c6d24e",null),h=l.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"suggestion"},[n("van-cell-group",t._l(t.suggestions,(function(e){return n("van-cell",{key:e._id,attrs:{icon:"search",title:e.content},on:{click:function(n){return t.$emit("search",e.content)}}})})),1)],1)},p=[],v=n("b047"),m=n.n(v),b={name:"Suggestion",components:{},props:{searchText:{type:String,required:!0}},data(){return{suggestions:[]}},computed:{},watch:{searchText:{handler:m()((async function(){if(this.searchText)try{const{data:t}=await Object(c["e"])(this.searchText);this.suggestions=t.data}catch(t){}}),200),immediate:!0}},created(){},methods:{}},x=b,g=Object(f["a"])(x,d,p,!1,null,"529b7c49",null),y=g.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"history"},[n("div",[t._v("历史记录:")]),t._l(t.searchHistories,(function(t,e){return n("van-cell",{key:e,attrs:{title:t}},[n("van-icon",{attrs:{name:"close"}})],1)})),n("div",{staticClass:"tip"},[t._v("目前以实现功能逻辑为主，后端数据库中的数据资料不足，只支持输入“你”，才能返回输入联想建议")])],2)},w=[],S={name:"History",components:{},props:{searchHistories:{type:Array}},data(){return{}},computed:{},watch:{},created(){},methods:{}},j=S,O=(n("33bf"),Object(f["a"])(j,T,w,!1,null,"3c29fba4",null)),_=O.exports,k={name:"Search",components:{Result:h,Suggestion:y,History:_},props:{},data(){return{searchText:"",isResultShow:!0,suggestions:[],searchHistories:[],isShow:!0}},computed:{},watch:{},created(){},methods:{onSearch(t){this.searchText=t;const e=this.searchHistories.indexOf(this.searchText);-1==e&&this.searchHistories.unshift(this.searchText),this.isResultShow=!0,this.isShow=!1}}},C=k,E=(n("822d"),Object(f["a"])(C,r,o,!1,null,"498e2fec",null));e["default"]=E.exports},b047:function(t,e,n){var r=n("1a8c"),o=n("408c"),s=n("b4b0"),a="Expected a function",c=Math.max,i=Math.min;function u(t,e,n){var u,f,l,h,d,p,v=0,m=!1,b=!1,x=!0;if("function"!=typeof t)throw new TypeError(a);function g(e){var n=u,r=f;return u=f=void 0,v=e,h=t.apply(r,n),h}function y(t){return v=t,d=setTimeout(S,e),m?g(t):h}function T(t){var n=t-p,r=t-v,o=e-n;return b?i(o,l-r):o}function w(t){var n=t-p,r=t-v;return void 0===p||n>=e||n<0||b&&r>=l}function S(){var t=o();if(w(t))return j(t);d=setTimeout(S,T(t))}function j(t){return d=void 0,x&&u?g(t):(u=f=void 0,h)}function O(){void 0!==d&&clearTimeout(d),v=0,u=p=f=d=void 0}function _(){return void 0===d?h:j(o())}function k(){var t=o(),n=w(t);if(u=arguments,f=this,p=t,n){if(void 0===d)return y(p);if(b)return clearTimeout(d),d=setTimeout(S,e),g(p)}return void 0===d&&(d=setTimeout(S,e)),h}return e=s(e)||0,r(n)&&(m=!!n.leading,b="maxWait"in n,l=b?c(s(n.maxWait)||0,e):l,x="trailing"in n?!!n.trailing:x),k.cancel=O,k.flush=_,k}t.exports=u},b10c:function(t,e,n){},b4b0:function(t,e,n){var r=n("8d74"),o=n("1a8c"),s=n("ffd6"),a=NaN,c=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt;function l(t){if("number"==typeof t)return t;if(s(t))return a;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=i.test(t);return n||u.test(t)?f(t.slice(2),n?2:8):c.test(t)?a:+t}t.exports=l},bf8b:function(t,e,n){},fd03:function(t,e,n){"use strict";n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return p})),n.d(e,"e",(function(){return v})),n.d(e,"a",(function(){return m}));var r=n("cebe"),o=n.n(r),s=n("4360"),a=n("a18c");const c=o.a.create({baseURL:"http://localhost:3000",timeout:8e3}),i=o.a.create({baseURL:"http://localhost:8080",timeout:8e3});i.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",c.interceptors.request.use(t=>{const e=s["a"].state.token;return e&&(t.headers.Authorization="Bearer "+e),t}),c.interceptors.response.use(t=>{const{data:e}=t;return 1!==e.code&&console.warn(e.msg),t},t=>{t.response.status&&401==t.response.status&&(s["a"].commit("clearToken"),a["a"].push({name:"Login"}))});var u=c;const f=t=>u({method:"POST",url:"/user/login",data:t}),l=()=>u({method:"GET",url:"/userAdmin/findUserById"}),h=()=>u({method:"GET",url:"/channel/channelName"}),d=t=>u({method:"GET",url:"/channel/findByName",params:t}),p=t=>u({method:"GET",url:"/channel/findByContent",params:{content:t}}),v=t=>u({method:"GET",url:"/channel/search",params:{inputContent:t}}),m=t=>i({method:"POST",url:"upload",data:t})},ffd6:function(t,e,n){var r=n("3729"),o=n("1310"),s="[object Symbol]";function a(t){return"symbol"==typeof t||o(t)&&r(t)==s}t.exports=a}}]);
//# sourceMappingURL=chunk-48d166fc.7583eb34.js.map